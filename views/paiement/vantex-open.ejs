<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Créer un compte VANTEX</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/css/intlTelInput.css" />

<style>
/* ===== CSS ORIGINAL – INTACT ===== */
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: "Inter", sans-serif;
  background: linear-gradient(135deg, #11998e, #0575e6);
  min-height: 100vh;
}

.card-wrapper {
  max-width: 1100px;
  margin: 50px auto;
  background: #fff;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 8px 28px rgba(0,0,0,0.08);
  display: flex;
  flex-direction: column;
}

.card-img {
  width: 100%;
  height: 220px;
  background: url('/image/vantex.jpg') center/cover no-repeat;
  order: 2;
}

@media (min-width: 920px) {
  .card-wrapper { flex-direction: row; }
  .card-img { width: 40%; height: auto; order: 0; }
}

.card { padding: 40px; }

h1 {
  text-align: center;
  color: #0A9999;
  font-size: 2rem;
}

.subtitle {
  text-align: center;
  color: #555;
  margin-bottom: 32px;
}

.form-grid { display: grid; gap: 22px; }
.grid-2 { grid-template-columns: 1fr; }
@media (min-width: 850px) {
  .grid-2 { grid-template-columns: 1fr 1fr; }
}

.field { position: relative; }
.field input, .field select {
  width: 100%;
  height: 50px;
  border: 1.7px solid #dce3e8;
  border-radius: 10px;
  padding: 0 14px;
}

.field label {
  position: absolute;
  left: 14px;
  top: -10px;
  background: #fff;
  font-size: 0.78rem;
  color: #0A9999;
}

.phone input { padding-left: 90px !important; }

.btn {
  width: 100%;
  height: 52px;
  background: #0A9999;
  color: #fff;
  border-radius: 10px;
  border: none;
  font-size: 1.08rem;
  cursor: pointer;
}

.iti__selected-dial-code,
.iti__country-name,
.iti__dial-code { color: #000 !important; }

/* ===== VÉRIFICATION ===== */
#verifyBox {
  display: none;
  margin-top: 30px;
  padding: 20px;
  border: 2px solid #0A9999;
  border-radius: 12px;
  background: #f7fdfd;
  color: #000;
}

.verify-line {
  margin: 8px 0;
  font-size: 1rem;
  color: #000;
}
</style>
</head>

<body>

<div class="card-wrapper">
<div class="card">

<h1>Créer un compte VANTEX</h1>
<p class="subtitle">Rejoignez VANTEX et profitez d’une expérience financière simple, rapide et sécurisée.</p>

<form id="vantexForm" action="/paiement/vantex/submit" method="POST" enctype="multipart/form-data">
<div class="form-grid grid-2">

<input type="hidden" name="form_ok" value="1">

<div class="field">
<select name="civility" required>
<option value="" disabled selected></option>
<option>M.</option><option>Mme</option>
</select>
<label>Civilité</label>
</div>

<div class="field">
<input name="firstname" required />
<label>Prénom</label>
</div>

<div class="field" style="grid-column:1/-1;">
<input name="lastname" required />
<label>Nom</label>
</div>

<div class="field">
<input name="email" required />
<label>Email</label>
</div>

<div class="field phone">
<input id="phone" name="phone" required />
<label>Téléphone</label>
</div>

<div class="field" style="grid-column:1/-1;">
<input name="profession" required />
<label>Profession</label>
</div>

<div class="field">
<select id="country" name="country" required></select>
<label>Pays</label>
</div>

<div class="field">
<input name="region" required />
<label>Région / Province</label>
</div>

<div class="field" style="grid-column:1/-1;">
<input name="street" required />
<label>Rue</label>
</div>

<div class="field">
<input name="city" required />
<label>Ville</label>
</div>

<div class="field">
<input name="zip" required />
<label>Code postal</label>
</div>

<div class="field">
<input type="file" name="id_front" required />
<label>Pièce d'identité (recto)</label>
</div>

<div class="field">
<input type="file" name="id_back" required />
<label>Pièce d'identité (verso)</label>
</div>

</div>

<button type="button" id="verifyBtn" class="btn">Vérifier mes informations</button>
</form>

<div id="verifyBox">
<h2>Vérifiez vos informations</h2>
<div id="verifyContent"></div>

<label>
<input type="checkbox" id="cgu"> J’accepte les conditions générales
</label>

<button class="btn" id="editBtn">Modifier</button>
<button class="btn" id="submitFinalBtn">Soumettre ma demande</button>
</div>

</div>
<div class="card-img"></div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/intlTelInput.min.js"></script>

<script>
const labelsFR = {
  civility:"Civilité",
  firstname:"Prénom",
  lastname:"Nom",
  email:"Adresse e-mail",
  phone:"Téléphone",
  profession:"Profession",
  country:"Pays",
  region:"Région / Province",
  street:"Rue",
  city:"Ville",
  zip:"Code postal"
};

document.getElementById("verifyBtn").onclick = () => {
  const form = document.getElementById("vantexForm");
  const box = document.getElementById("verifyBox");
  const content = document.getElementById("verifyContent");
  const data = new FormData(form);

  let html = "";
  data.forEach((v,k)=>{
    if(labelsFR[k]) html += `<div class="verify-line"><strong>${labelsFR[k]} :</strong> ${v}</div>`;
  });

  content.innerHTML = html;
  form.style.display="none";
  box.style.display="block";
};

document.getElementById("editBtn").onclick=()=>{
  document.getElementById("verifyBox").style.display="none";
  document.getElementById("vantexForm").style.display="block";
};

document.getElementById("submitFinalBtn").onclick=()=>{
  if(!document.getElementById("cgu").checked) return alert("Veuillez accepter les conditions.");
  document.getElementById("vantexForm").submit();
};
</script>

</body>
</html>
