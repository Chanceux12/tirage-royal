<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Créer un compte VANTEX</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/css/intlTelInput.css" />

<style>
/* ====== RESET ====== */
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: "Inter", sans-serif;
  background: #f4f6f7; /* GRIS CLAIR PREMIUM */
  padding: 30px;
  -webkit-font-smoothing: antialiased;
}

/* ====== CARD ====== */
.card {
  max-width: 900px;
  margin: auto;
  background: #ffffff;
  padding: 40px;
  border-radius: 16px;
  box-shadow: 0 8px 28px rgba(0,0,0,0.08);
}

/* ===== TITRE ===== */
h1 {
  text-align: center;
  color: #0A9999;
  margin-bottom: 4px;
  font-size: 2rem;
  font-weight: 700;
}
.subtitle {
  text-align: center;
  margin-bottom: 32px;
  color: #707b81;
}

/* ===== GRID ===== */
.form-grid {
  display: grid;
  gap: 22px;
}

.grid-2 { grid-template-columns: 1fr; }

@media (min-width: 850px) {
  .grid-2 { grid-template-columns: 1fr 1fr; }
}

/* ====== FIELD (floating label) ====== */
.field {
  position: relative;
}

.field input,
.field select {
  width: 100%;
  height: 50px; /* TAILLE B */
  padding: 0 14px;
  font-size: 1rem;
  border: 1.7px solid #dce3e8;
  border-radius: 10px; /* SEMI-ARRONDI */
  background: #fff;
  color: #1c1f21;
  transition: border-color .2s, box-shadow .2s;
}

.field input:focus,
.field select:focus {
  outline: none;
  border-color: #0A9999;
  box-shadow: 0 0 0 3px rgba(10,153,153,0.18);
}

/* LABEL */
.field label {
  position: absolute;
  left: 14px;
  top: 17px;
  color: #6e7a82;
  background: transparent;
  font-size: 0.95rem;
  transition: 0.22s ease;
  pointer-events: none;
  padding: 0 6px;
}

/* FLOATED */
.field input:not(:placeholder-shown) + label,
.field select:valid + label,
.field input:focus + label,
.field select:focus + label {
  top: -9px;
  font-size: 0.74rem;
  background: #ffffff;
  color: #0A9999;
  border-radius: 4px;
}

/* ===== TEL ===== */
.iti {
  width: 100%;
}
.iti input {
  padding-left: 70px !important; /* pour ne pas chevaucher le drapeau */
}
.field.phone label {
  left: 16px;
}

/* FILE INPUT */
.field input[type=file] {
  padding-top: 11px;
}
.field.file label {
  top: -9px;
  font-size: 0.74rem;
  background: #fff;
  color: #0A9999;
  border-radius: 4px;
}

/* BUTTON */
.btn {
  width: 100%;
  margin-top: 12px;
  height: 52px;
  background: #0A9999;
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 1.08rem;
  font-weight: 600;
  cursor: pointer;
  transition: background .2s;
}
.btn:hover {
  background: #087a7a;
}

@media (max-width: 600px) {
  body { padding: 16px; }
  .card { padding: 24px; }
  h1 { font-size: 1.6rem; }
}
</style>
</head>

<body>

<div class="card">
  <h1>Créer un compte VANTEX</h1>
  <p class="subtitle">Formulaire sécurisé — Style bancaire professionnel</p>

<form action="/paiement/vantex/submit" method="POST" enctype="multipart/form-data">

  <div class="form-grid grid-2">

    <!-- CIVILITE -->
    <div class="field">
      <input type="text" name="civility" placeholder=" " required />
      <label>Civilité</label>
    </div>

    <!-- PRENOM -->
    <div class="field">
      <input type="text" name="firstname" placeholder=" " required />
      <label>Prénom</label>
    </div>

    <!-- NOM (pleine largeur) -->
    <div class="field" style="grid-column: 1/-1;">
      <input type="text" name="lastname" placeholder=" " required />
      <label>Nom</label>
    </div>

    <!-- EMAIL -->
    <div class="field">
      <input type="email" name="email" placeholder=" " required />
      <label>Email</label>
    </div>

    <!-- TELEPHONE -->
    <div class="field phone">
      <input type="tel" id="phone" name="phone" placeholder=" " required />
      <label>Téléphone</label>
    </div>

    <!-- PROFESSION (pleine largeur) -->
    <div class="field" style="grid-column: 1/-1;">
      <input type="text" name="profession" placeholder=" " required />
      <label>Profession</label>
    </div>

    <!-- COUNTRY -->
    <div class="field">
      <select id="country" name="country" required>
        <option value="" selected disabled></option>
      </select>
      <label>Pays</label>
    </div>

    <!-- REGION -->
    <div class="field">
      <select id="region" name="region" required disabled>
        <option value="" selected disabled></option>
      </select>
      <label>Région / Province</label>
    </div>

    <!-- STREET full width -->
    <div class="field" style="grid-column: 1/-1;">
      <input type="text" name="street" placeholder=" " required />
      <label>Rue</label>
    </div>

    <!-- CITY / ZIP -->
    <div class="field">
      <input type="text" name="city" placeholder=" " required />
      <label>Ville</label>
    </div>

    <div class="field">
      <input type="text" name="zip" placeholder=" " required />
      <label>Code postal</label>
    </div>

    <!-- FILES -->
    <div class="field file" style="grid-column: 1/-1;">
      <input type="file" name="id_front" accept=".jpg,.jpeg,.png,.pdf" required />
      <label>Document d'identité — recto</label>
    </div>

    <div class="field file" style="grid-column: 1/-1;">
      <input type="file" name="id_back" accept=".jpg,.jpeg,.png,.pdf" required />
      <label>Document d'identité — verso</label>
    </div>

  </div>

  <button class="btn">Créer mon compte</button>

</form>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/intlTelInput.min.js"></script>

<script>
/* ----- PHONE ----- */
const input = document.querySelector("#phone");
window.intlTelInput(input, {
  separateDialCode: true,
  initialCountry: "fr",
  preferredCountries: ["fr","be","ca","ch"],
  utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/utils.js"
});

/* ----- COUNTRIES ----- */
async function loadCountries() {
  const res = await fetch("/json/countries.json");
  const data = await res.json();
  const sel = document.getElementById("country");

  data.sort((a,b)=> a.name.common.localeCompare(b.name.common));

  data.forEach(c => {
    const opt = document.createElement("option");
    opt.value = c.cca2;
    opt.textContent = c.name.common;
    sel.appendChild(opt);
  });
}
loadCountries();

/* ----- REGIONS ----- */
async function loadRegions(code) {
  const sel = document.getElementById("region");
  sel.innerHTML = '<option disabled selected></option>';
  sel.disabled = true;
  if (!code) return;

  const res = await fetch("/json/regions.json");
  const data = await res.json();
  const list = data[code] || [];

  if (list.length) {
    list.forEach(r=>{
      const opt = document.createElement("option");
      opt.value = r;
      opt.textContent = r;
      sel.appendChild(opt);
    });
    sel.disabled = false;
  }
}

document.getElementById("country").addEventListener("change", function() {
  loadRegions(this.value);
});
</script>

</body>
</html>

