<!DOCTYPE html> 
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Créer un compte VANTEX</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/css/intlTelInput.css" />

<style>
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: "Inter", sans-serif;
  background: #f4f6f7;
  padding: 30px;
}

/* ==== WRAPPER GLOBAL ==== */
.card-wrapper {
  max-width: 1100px;
  margin: auto;
  background: #fff;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 8px 28px rgba(0,0,0,0.08);
  display: flex;
  flex-direction: column;
}

/* ==== IMAGE MOBILE (bannière) ==== */
.card-img {
  width: 100%;
  height: 220px;
  background: url('/image/vantex.jpg') center/cover no-repeat;
}

/* ==== IMAGE À GAUCHE SUR ORDINATEUR ==== */
@media (min-width: 900px) {
  .card-wrapper {
    flex-direction: row;
  }
  .card-img {
    width: 40%;
    height: auto;
  }
}

/* ==== FORMULAIRE ==== */
.card {
  width: 100%;
  padding: 40px;
}

h1 {
  text-align: center;
  color: #0A9999;
  font-size: 2rem;
  margin-bottom: 4px;
}
.subtitle {
  text-align: center;
  margin-bottom: 32px;
  color: #707b81;
}

/* ==== GRID ==== */
.form-grid {
  display: grid;
  gap: 22px;
}
.grid-2 { grid-template-columns: 1fr; }
@media (min-width: 850px) {
  .grid-2 { grid-template-columns: 1fr 1fr; }
}

/* ==== CHAMPS ==== */
.field {
  position: relative;
}

.field input,
.field select {
  width: 100%;
  height: 50px;
  padding: 0 14px;
  border: 1.7px solid #dce3e8;
  border-radius: 10px;
  font-size: 1rem;
  background: #fff;
  transition: .2s;
}

.field input:focus,
.field select:focus {
  border-color: #0A9999;
  box-shadow: 0 0 0 3px rgba(10,153,153,0.18);
}

/* LABEL NORMALISÉ */
.field label {
  position: absolute;
  left: 14px;
  top: -10px;
  background: #fff;
  padding: 0 5px;
  font-size: 0.78rem;
  color: #0A9999;
  pointer-events: none;
}

/* ==== TÉLÉPHONE ==== */
.phone .iti {
  width: 100%;
}

.phone input {
  padding-left: 85px !important; /* PLACE POUR LE DRAPEAU */
}

/* ==== FILE ==== */
.field input[type=file] {
  padding-top: 11px;
}

/* ==== BOUTON ==== */
.btn {
  width: 100%;
  height: 52px;
  margin-top: 12px;
  background: #0A9999;
  color: #fff;
  border: none;
  border-radius: 10px;
  font-size: 1.08rem;
  cursor: pointer;
}
.btn:hover {
  background: #087a7a;
}

</style>
</head>

<body>

<div class="card-wrapper">

  <!-- IMAGE (mobile = bannière, desktop = colonne gauche) -->
  <div class="card-img"></div>

  <div class="card">

    <h1>Créer un compte VANTEX</h1>
    <p class="subtitle">Formulaire sécurisé — Style bancaire professionnel</p>

    <form action="/paiement/vantex/submit" method="POST" enctype="multipart/form-data">

      <div class="form-grid grid-2">

        <!-- CIVILITÉ -->
        <div class="field">
          <select name="civility" required>
            <option value="" disabled selected></option>
            <option value="M.">M.</option>
            <option value="Mme">Mme</option>
            <option value="Mlle">Mlle</option>
            <option value="Dr">Dr</option>
            <option value="Pr">Pr</option>
            <option value="Me">Me</option>
            <option value="Ing.">Ing.</option>
          </select>
          <label>Civilité</label>
        </div>

        <!-- PRÉNOM -->
        <div class="field">
          <input type="text" name="firstname" required />
          <label>Prénom</label>
        </div>

        <!-- NOM -->
        <div class="field" style="grid-column:1/-1;">
          <input type="text" name="lastname" required />
          <label>Nom</label>
        </div>

        <!-- EMAIL -->
        <div class="field">
          <input type="email" name="email" required />
          <label>Email</label>
        </div>

        <!-- TÉLÉPHONE -->
        <div class="field phone">
          <label>Téléphone</label>
          <input type="tel" id="phone" name="phone" required />
        </div>

        <!-- PROFESSION -->
        <div class="field" style="grid-column:1/-1;">
          <input type="text" name="profession" required />
          <label>Profession</label>
        </div>

        <!-- PAYS -->
        <div class="field">
          <select id="country" name="country" required>
            <option value="" selected disabled></option>
          </select>
          <label>Pays</label>
        </div>

        <!-- RÉGION -->
        <div class="field">
          <select id="region" name="region" required disabled>
            <option value="" selected disabled></option>
          </select>
          <label>Région / Province</label>
        </div>

        <!-- RUE -->
        <div class="field" style="grid-column:1/-1;">
          <input type="text" name="street" required />
          <label>Rue</label>
        </div>

        <!-- VILLE -->
        <div class="field">
          <input type="text" name="city" required />
          <label>Ville</label>
        </div>

        <!-- ZIP -->
        <div class="field">
          <input type="text" name="zip" required />
          <label>Code postal</label>
        </div>

        <!-- DOCUMENT RECTO -->
        <div class="field file" style="grid-column:1/-1;">
          <input type="file" name="id_front" accept=".jpg,.jpeg,.png,.pdf" required />
          <label>Document d'identité — recto</label>
        </div>

        <!-- DOCUMENT VERSO -->
        <div class="field file" style="grid-column:1/-1;">
          <input type="file" name="id_back" accept=".jpg,.jpeg,.png,.pdf" required />
          <label>Document d'identité — verso</label>
        </div>

      </div>

      <button class="btn">Créer mon compte</button>

    </form>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/intlTelInput.min.js"></script>

<script>
/* Téléphone */
const phone = document.querySelector("#phone");
window.intlTelInput(phone, {
  separateDialCode: true,
  initialCountry: "fr",
  preferredCountries: ["fr","be","ca","ch"],
  utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/utils.js"
});

/* Pays */
async function loadCountries() {
  const res = await fetch("/json/countries.json");
  const data = await res.json();
  const sel = document.getElementById("country");

  data.sort((a,b)=> a.name.common.localeCompare(b.name.common));
  data.forEach(c=>{
    const opt=document.createElement("option");
    opt.value=c.cca2;
    opt.textContent=c.name.common;
    sel.appendChild(opt);
  });
}
loadCountries();

/* Régions */
async function loadRegions(code){
  const sel=document.getElementById("region");
  sel.innerHTML='<option disabled selected></option>';
  sel.disabled=true;

  if(!code) return;

  const res=await fetch("/json/regions.json");
  const data=await res.json();
  const list=data[code] || [];

  if(list.length){
    list.forEach(r=>{
      const o=document.createElement("option");
      o.value=r;
      o.textContent=r;
      sel.appendChild(o);
    });
    sel.disabled=false;
  }
}
document.getElementById("country").addEventListener("change",function(){
  loadRegions(this.value);
});
</script>

</body>
</html>
