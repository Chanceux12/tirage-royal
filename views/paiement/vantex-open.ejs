<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cr√©er un compte VANTEX</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/css/intlTelInput.css"/>

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: "Inter", sans-serif;
  background: linear-gradient(135deg, #11998e, #0575e6);
  padding: 0;
  min-height: 100vh;
}

/* WRAPPER */
.card-wrapper {
  max-width: 1100px;
  margin: 35px auto;
  background: #fff;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 8px 28px rgba(0,0,0,0.08);
  display: flex;
  flex-direction: column;
}

/* IMAGE */
.card-img {
  width: 100%;
  height: 220px;
  background: url('/images/vantex.jpg') center/cover no-repeat;
  order: 2;
}

@media (min-width: 920px) {
  .card-wrapper { flex-direction: row; }
  .card-img {
    width: 40%;
    height: auto;
    order: 0;
  }
}

/* FORMULAIRE */
.card {
  width: 100%;
  padding: 40px;
  order: 1;
}

h1 {
  text-align: center;
  color: #0A9999;
  font-size: 2rem;
  margin-bottom: 10px;
  font-weight: 600;
}

.subtitle {
  text-align: center;
  margin-bottom: 30px;
  color: #555;
}

/* GRID */
.form-grid {
  display: grid;
  gap: 22px;
}
.grid-2 { grid-template-columns: 1fr; }
@media (min-width: 850px) {
  .grid-2 { grid-template-columns: 1fr 1fr; }
}

/* FIELD */
.field {
  position: relative;
}

.field input,
.field select {
  width: 100%;
  height: 50px;
  padding: 0 14px;
  border: 1.7px solid #dce3e8;
  border-radius: 10px;
  font-size: 1rem;
  background: #fff;
  transition: 0.2s;
}

.field input:focus,
.field select:focus {
  border-color: #0A9999;
  box-shadow: 0 0 0 3px rgba(10,153,153,0.18);
}

.field label {
  position: absolute;
  left: 14px;
  top: -10px;
  background: #fff;
  padding: 0 5px;
  font-size: 0.78rem;
  color: #0A9999;
}

/* PHONE */
.phone .iti { width: 100%; }
.phone input { padding-left: 90px !important; }

/* FILE */
.field input[type=file] { padding-top: 11px; }

/* BOUTON */
.btn {
  width: 100%;
  height: 52px;
  background: #0A9999;
  color: #fff;
  border: none;
  border-radius: 10px;
  font-size: 1.05rem;
  margin-top: 20px;
  cursor: pointer;
}
.btn:disabled {
  background: #9acccc;
  cursor: not-allowed;
}

/* SECTION CHECK */
.verify-box {
  margin-top: 40px;
  padding: 25px;
  border: 2px solid #0A9999;
  border-radius: 14px;
  background: #f8ffff;
}

.verify-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: #0A9999;
  margin-bottom: 15px;
}

.verify-line {
  margin: 6px 0;
  font-size: 0.98rem;
  color: #444;
}

.modify-btn {
  margin-top: 15px;
  background: #ccc;
  padding: 8px 14px;
  border-radius: 8px;
  cursor: pointer;
  display: inline-block;
}

.cgu {
  margin-top: 20px;
  display: flex;
  align-items: center;
  gap: 10px;
}
</style>
</head>



<body>

<div class="card-wrapper">

  <div class="card">

    <h1>Cr√©er un compte VANTEX</h1>
    <p class="subtitle">Rejoignez VANTEX et profitez d‚Äôune exp√©rience financi√®re simple.</p>

    <!-- FORMULAIRE -->
    <form id="vantexForm" action="/paiement/vantex/submit" method="POST" enctype="multipart/form-data">

      <div class="form-grid grid-2">

        <div class="field">
          <select name="civility" id="civility" required>
            <option value="" disabled selected></option>
            <option>M.</option>
            <option>Mme</option>
            <option>Mlle</option>
            <option>Dr</option>
            <option>Pr</option>
          </select>
          <label>Civilit√©</label>
        </div>

        <div class="field">
          <input type="text" id="firstname" name="firstname" required>
          <label>Pr√©nom</label>
        </div>

        <div class="field" style="grid-column: 1/-1;">
          <input type="text" id="lastname" name="lastname" required>
          <label>Nom</label>
        </div>

        <div class="field">
          <input type="email" id="email" name="email" required>
          <label>Email</label>
        </div>

        <div class="field phone">
          <label style="top:-10px;">T√©l√©phone</label>
          <input type="tel" id="phone" name="phone" required>
        </div>

        <div class="field" style="grid-column: 1/-1;">
          <input type="text" id="profession" name="profession" required>
          <label>Profession</label>
        </div>

        <div class="field">
          <select id="country" name="country" required></select>
          <label>Pays</label>
        </div>

        <div class="field">
          <input type="text" id="region" name="region" required>
          <label>R√©gion / Province</label>
        </div>

        <div class="field" style="grid-column:1/-1;">
          <input type="text" id="street" name="street" required>
          <label>Rue</label>
        </div>

        <div class="field">
          <input type="text" id="city" name="city" required>
          <label>Ville</label>
        </div>

        <div class="field">
          <input type="text" id="zip" name="zip" required>
          <label>Code postal</label>
        </div>

        <div class="field" style="grid-column:1/-1;">
          <input type="file" name="id_front" required>
          <label>Document d'identit√© ‚Äî recto</label>
        </div>

        <div class="field" style="grid-column:1/-1;">
          <input type="file" name="id_back" required>
          <label>Document d'identit√© ‚Äî verso</label>
        </div>

      </div>

      <!-- CGU -->
      <div class="cgu">
        <input type="checkbox" id="acceptCgu">
        <label for="acceptCgu">J'accepte les conditions g√©n√©rales VANTEX</label>
      </div>

      <button class="btn" id="submitBtn" disabled>Soumettre ma demande</button>

    </form>



    <!-- VERIFICATION -->
    <div class="verify-box">
      <div class="verify-title">üìÑ V√©rifier mes informations</div>

      <div id="vPreview"></div>

      <div class="modify-btn" onclick="window.scrollTo({top:0, behavior:'smooth'})">
        Modifier mes informations
      </div>
    </div>

  </div>

  <div class="card-img"></div>
</div>



<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/intlTelInput.min.js"></script>

<script>
const phone = document.querySelector("#phone");
window.intlTelInput(phone, { separateDialCode: true, initialCountry: "fr" });


// ========== Chargement pays ==========
async function loadCountries() {
  const res = await fetch("/json/countries.json");
  const data = await res.json();
  const sel = document.getElementById("country");

  data.sort((a,b)=> a.name.common.localeCompare(b.name.common));
  data.forEach(c=>{
    const opt=document.createElement("option");
    opt.value=c.name.common;
    opt.textContent=c.name.common;
    sel.appendChild(opt);
  });
}
loadCountries();


// ========== Pr√©visualisation dynamique ==========

const fields = [
  "civility","firstname","lastname","email","phone","profession",
  "country","region","street","city","zip"
];

function updatePreview() {
  let html = "";
  fields.forEach(id=>{
    const val = document.getElementById(id).value;
    if(val.trim() !== "") {
      html += `<div class="verify-line"><strong>${id} :</strong> ${val}</div>`;
    }
  });
  document.getElementById("vPreview").innerHTML = html;
}

fields.forEach(id=>{
  document.getElementById(id).addEventListener("input", updatePreview);
});
phone.addEventListener("input", updatePreview);


// ========== Activation bouton CGU ==========
document.getElementById("acceptCgu").addEventListener("change", e=>{
  document.getElementById("submitBtn").disabled = !e.target.checked;
});
</script>

</body>
</html>

